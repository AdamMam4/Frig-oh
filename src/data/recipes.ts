export interface Recipe {
  id: string;
  name: string;
  image: string;
  difficulty: "Facile" | "Moyen" | "Difficile";
  time: string;
  servings: number;
  ingredients: {
    name: string;
    quantity: string;
  }[];
  steps?: string[];
  instructions?: string[];
  isAiGenerated?: boolean;
}

export const recipes: Recipe[] = [
  {
    id: "1",
    name: "Pâtes Carbonara Classiques",
    image:
      "https://images.unsplash.com/photo-1722938687772-62a0dbfacc25?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwYXN0YSUyMGRpc2glMjBmb29kfGVufDF8fHx8MTc2MjA2NzY2Nnww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Facile",
    time: "25 min",
    servings: 4,
    ingredients: [
      { name: "pâtes", quantity: "400g" },
      { name: "œufs", quantity: "4" },
      { name: "parmesan", quantity: "100g" },
      { name: "bacon", quantity: "200g" },
      { name: "poivre", quantity: "selon goût" },
      { name: "sel", quantity: "selon goût" },
    ],
    instructions: [
      "Faire cuire les pâtes dans une grande casserole d'eau salée bouillante.",
      "Pendant ce temps, faire revenir le bacon coupé en lardons dans une poêle sans matière grasse.",
      "Dans un bol, battre les œufs avec le parmesan râpé et le poivre.",
      "Égoutter les pâtes en gardant un peu d'eau de cuisson.",
      "Mélanger rapidement les pâtes chaudes avec le mélange œufs-fromage hors du feu.",
      "Ajouter les lardons et un peu d'eau de cuisson si nécessaire pour obtenir une sauce crémeuse.",
      "Servir immédiatement avec du parmesan supplémentaire.",
    ],
  },
  {
    id: "2",
    name: "Salade Caesar Fraîche",
    image:
      "https://images.unsplash.com/photo-1627279000976-f37b535aaf26?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzYWxhZCUyMGhlYWx0aHklMjBib3dsfGVufDF8fHx8MTc2MjEwMDAyN3ww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Facile",
    time: "15 min",
    servings: 2,
    ingredients: [
      { name: "salade romaine", quantity: "1 grosse" },
      { name: "poulet", quantity: "2 blancs" },
      { name: "parmesan", quantity: "50g" },
      { name: "pain", quantity: "4 tranches" },
      { name: "ail", quantity: "2 gousses" },
      { name: "mayonnaise", quantity: "100ml" },
      { name: "citron", quantity: "1" },
      { name: "anchois", quantity: "4 filets" },
    ],
    instructions: [
      "Faire griller le poulet assaisonné dans une poêle, puis le couper en lamelles.",
      "Couper le pain en cubes et les faire dorer au four avec de l'ail et de l'huile d'olive.",
      "Préparer la sauce en mélangeant mayonnaise, anchois écrasés, ail pressé, jus de citron et parmesan.",
      "Laver et essorer la salade romaine, puis la couper en morceaux.",
      "Dans un grand bol, mélanger la salade avec la sauce.",
      "Ajouter le poulet et les croûtons.",
      "Parsemer de parmesan râpé et servir immédiatement.",
    ],
  },
  {
    id: "3",
    name: "Poulet Rôti aux Herbes",
    image:
      "https://images.unsplash.com/photo-1632778149955-e80f8ceca2e8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjaGlja2VuJTIwZGlubmVyJTIwcGxhdGV8ZW58MXx8fHwxNzYyMTY3NTQ4fDA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "1h 15min",
    servings: 4,
    ingredients: [
      { name: "poulet entier", quantity: "1.5kg" },
      { name: "thym", quantity: "4 branches" },
      { name: "romarin", quantity: "2 branches" },
      { name: "ail", quantity: "6 gousses" },
      { name: "citron", quantity: "2" },
      { name: "beurre", quantity: "50g" },
      { name: "huile d'olive", quantity: "3 c.à.s" },
      { name: "sel", quantity: "selon goût" },
      { name: "poivre", quantity: "selon goût" },
    ],
    instructions: [
      "Préchauffer le four à 200°C.",
      "Rincer et sécher le poulet avec du papier absorbant.",
      "Mélanger le beurre ramolli avec les herbes hachées, l'ail écrasé, le sel et le poivre.",
      "Glisser délicatement ce mélange sous la peau du poulet.",
      "Placer les citrons coupés en deux et les herbes restantes dans la cavité du poulet.",
      "Badigeonner l'extérieur avec de l'huile d'olive et assaisonner.",
      "Rôtir pendant 1h15, en arrosant régulièrement avec le jus de cuisson.",
      "Laisser reposer 10 minutes avant de découper.",
    ],
  },
  {
    id: "4",
    name: "Gâteau au Chocolat Moelleux",
    image:
      "https://images.unsplash.com/photo-1655633584060-c875b9821061?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxkZXNzZXJ0JTIwY2FrZSUyMHN3ZWV0fGVufDF8fHx8MTc2MjEwMTczMnww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "45 min",
    servings: 8,
    ingredients: [
      { name: "chocolat noir", quantity: "200g" },
      { name: "œufs", quantity: "4" },
      { name: "farine", quantity: "50g" },
      { name: "beurre", quantity: "150g" },
      { name: "sucre", quantity: "150g" },
      { name: "sel", quantity: "1 pincée" },
    ],
    instructions: [
      "Préchauffer le four à 180°C.",
      "Faire fondre le chocolat et le beurre au bain-marie.",
      "Dans un saladier, battre les œufs avec le sucre jusqu'à ce que le mélange blanchisse.",
      "Ajouter le chocolat fondu tiède au mélange œufs-sucre.",
      "Incorporer délicatement la farine et le sel.",
      "Verser dans un moule beurré et fariné.",
      "Cuire 25 minutes (le centre doit rester légèrement coulant).",
      "Laisser refroidir avant de démouler.",
    ],
  },
  {
    id: "5",
    name: "Soupe de Légumes Maison",
    image:
      "https://images.unsplash.com/photo-1621608953630-00d9eb860392?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzb3VwJTIwYm93bCUyMGZvb2R8ZW58MXx8fHwxNzYyMTY3NTQ4fDA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Facile",
    time: "40 min",
    servings: 6,
    ingredients: [
      { name: "carottes", quantity: "4" },
      { name: "pommes de terre", quantity: "3" },
      { name: "oignon", quantity: "1" },
      { name: "poireau", quantity: "2" },
      { name: "courgette", quantity: "1" },
      { name: "bouillon de légumes", quantity: "1.5L" },
      { name: "huile d'olive", quantity: "2 c.à.s" },
      { name: "sel", quantity: "selon goût" },
      { name: "poivre", quantity: "selon goût" },
    ],
    instructions: [
      "Éplucher et couper tous les légumes en cubes.",
      "Dans une grande cocotte, faire revenir l'oignon émincé dans l'huile d'olive.",
      "Ajouter les carottes et les pommes de terre, faire revenir 5 minutes.",
      "Ajouter le reste des légumes et le bouillon.",
      "Porter à ébullition puis réduire le feu.",
      "Laisser mijoter 30 minutes à couvert.",
      "Mixer partiellement ou entièrement selon la texture désirée.",
      "Ajuster l'assaisonnement et servir chaud.",
    ],
  },
  {
    id: "6",
    name: "Omelette Complète",
    image:
      "https://images.unsplash.com/photo-1616902685816-fbe1aeb3ea79?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxicmVha2Zhc3QlMjBlZ2dzJTIwdG9hc3R8ZW58MXx8fHwxNzYyMDk0MjUwfDA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Facile",
    time: "15 min",
    servings: 2,
    ingredients: [
      { name: "œufs", quantity: "6" },
      { name: "jambon", quantity: "100g" },
      { name: "fromage râpé", quantity: "50g" },
      { name: "tomates", quantity: "2" },
      { name: "champignons", quantity: "100g" },
      { name: "beurre", quantity: "20g" },
      { name: "sel", quantity: "selon goût" },
      { name: "poivre", quantity: "selon goût" },
    ],
    instructions: [
      "Battre les œufs dans un bol avec du sel et du poivre.",
      "Couper le jambon en dés, les tomates en quartiers et émincer les champignons.",
      "Faire fondre le beurre dans une grande poêle.",
      "Faire revenir rapidement les champignons.",
      "Verser les œufs battus dans la poêle.",
      "Répartir le jambon, les tomates et le fromage sur une moitié de l'omelette.",
      "Lorsque les œufs commencent à prendre, plier l'omelette en deux.",
      "Servir immédiatement bien chaude.",
    ],
  },
  {
    id: "7",
    name: "Risotto aux Champignons",
    image:
      "https://images.unsplash.com/photo-1476124369491-f9ca3e541d27?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxyaXNvdHRvfGVufDB8fHx8MTczMDI0MDAwMHww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "35 min",
    servings: 4,
    ingredients: [
      { name: "riz arborio", quantity: "300g" },
      { name: "champignons", quantity: "300g" },
      { name: "oignon", quantity: "1" },
      { name: "ail", quantity: "2 gousses" },
      { name: "bouillon", quantity: "1L" },
      { name: "vin blanc", quantity: "100ml" },
      { name: "parmesan", quantity: "80g" },
      { name: "beurre", quantity: "40g" },
      { name: "huile d'olive", quantity: "2 c.à.s" },
    ],
    instructions: [
      "Faire chauffer le bouillon et le maintenir à frémissement.",
      "Faire revenir l'oignon et l'ail émincés dans l'huile et le beurre.",
      "Ajouter les champignons émincés et les faire dorer.",
      "Ajouter le riz et le nacrer 2 minutes en remuant.",
      "Verser le vin blanc et laisser évaporer.",
      "Ajouter le bouillon louche par louche en remuant constamment.",
      "Continuer jusqu'à ce que le riz soit crémeux mais encore al dente (environ 18-20 min).",
      "Incorporer le parmesan et le beurre restant hors du feu.",
      "Laisser reposer 2 minutes et servir.",
    ],
  },
  {
    id: "8",
    name: "Tarte aux Pommes",
    image:
      "https://images.unsplash.com/photo-1535920527002-b35e96722eb9?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcHBsZSUyMHBpZXxlbnwwfHx8fDE3MzAyNDAwMDB8MA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "50 min",
    servings: 6,
    ingredients: [
      { name: "pâte feuilletée", quantity: "1 rouleau" },
      { name: "pommes", quantity: "6" },
      { name: "sucre", quantity: "80g" },
      { name: "beurre", quantity: "40g" },
      { name: "cannelle", quantity: "1 c.à.c" },
      { name: "œuf", quantity: "1" },
    ],
    instructions: [
      "Préchauffer le four à 180°C.",
      "Étaler la pâte feuilletée dans un moule à tarte.",
      "Éplucher et couper les pommes en fines lamelles.",
      "Disposer les pommes en rosace sur la pâte.",
      "Saupoudrer de sucre et de cannelle.",
      "Parsemer de noisettes de beurre.",
      "Badigeonner les bords de la pâte avec l'œuf battu.",
      "Cuire 40 minutes jusqu'à ce que les pommes soient caramélisées.",
    ],
  },
  {
    id: "9",
    name: "Steak Grillé Parfait",
    image:
      "https://images.unsplash.com/photo-1693422660544-014dd9f3ef73?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdGVhayUyMGdyaWxsZWQlMjBtZWF0fGVufDF8fHx8MTc2MjMyOTc1OXww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "20 min",
    servings: 2,
    ingredients: [
      { name: "bœuf (entrecôte)", quantity: "2 x 250g" },
      { name: "beurre", quantity: "30g" },
      { name: "ail", quantity: "3 gousses" },
      { name: "thym", quantity: "3 branches" },
      { name: "huile d'olive", quantity: "2 c.à.s" },
      { name: "sel", quantity: "selon goût" },
      { name: "poivre", quantity: "selon goût" },
    ],
    instructions: [
      "Sortir la viande 30 minutes avant cuisson pour qu'elle soit à température ambiante.",
      "Saler et poivrer généreusement les deux faces.",
      "Chauffer une poêle à feu vif avec l'huile d'olive.",
      "Saisir le steak 2-3 minutes de chaque côté pour une cuisson saignante.",
      "Ajouter le beurre, l'ail écrasé et le thym dans la poêle.",
      "Arroser le steak avec le beurre fondu pendant 1 minute.",
      "Laisser reposer 5 minutes avant de servir.",
      "Accompagner de légumes grillés ou de frites maison.",
    ],
  },
  {
    id: "10",
    name: "Pizza Margherita Authentique",
    image:
      "https://images.unsplash.com/photo-1749169395459-9eb9835bd718?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwaXp6YSUyMGl0YWxpYW4lMjBmb29kfGVufDF8fHx8MTc2MjMyOTc2MHww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Difficile",
    time: "2h 30min",
    servings: 4,
    ingredients: [
      { name: "farine", quantity: "500g" },
      { name: "eau tiède", quantity: "300ml" },
      { name: "levure", quantity: "10g" },
      { name: "tomates", quantity: "400g" },
      { name: "mozzarella", quantity: "250g" },
      { name: "basilic", quantity: "10 feuilles" },
      { name: "huile d'olive", quantity: "4 c.à.s" },
      { name: "sel", quantity: "10g" },
      { name: "sucre", quantity: "1 pincée" },
    ],
    instructions: [
      "Mélanger la farine, le sel et la levure dans un bol.",
      "Ajouter progressivement l'eau tiède et pétrir 10 minutes.",
      "Laisser reposer la pâte 2 heures dans un endroit chaud.",
      "Étaler la pâte en cercle sur une surface farinée.",
      "Étaler la sauce tomate, ajouter la mozzarella en morceaux.",
      "Arroser d'huile d'olive et assaisonner.",
      "Cuire au four à 250°C pendant 10-12 minutes.",
      "Ajouter le basilic frais à la sortie du four.",
    ],
  },
  {
    id: "11",
    name: "Sushis Maison",
    image:
      "https://images.unsplash.com/photo-1700324822763-956100f79b0d?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzdXNoaSUyMGphcGFuZXNlJTIwZm9vZHxlbnwxfHx8fDE3NjIyNjkwMTh8MA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Difficile",
    time: "1h",
    servings: 4,
    ingredients: [
      { name: "riz sushi", quantity: "400g" },
      { name: "saumon", quantity: "200g" },
      { name: "thon", quantity: "200g" },
      { name: "avocat", quantity: "2" },
      { name: "concombre", quantity: "1" },
      { name: "algues nori", quantity: "10 feuilles" },
      { name: "vinaigre de riz", quantity: "4 c.à.s" },
      { name: "sauce soja", quantity: "pour servir" },
      { name: "wasabi", quantity: "pour servir" },
    ],
    instructions: [
      "Cuire le riz selon les instructions et le mélanger avec le vinaigre de riz.",
      "Laisser refroidir le riz à température ambiante.",
      "Couper le poisson, l'avocat et le concombre en fines lamelles.",
      "Placer une feuille de nori sur un tapis de bambou.",
      "Étaler une fine couche de riz sur les 2/3 de la feuille.",
      "Disposer les garnitures au centre.",
      "Rouler fermement en utilisant le tapis.",
      "Couper en 6-8 morceaux avec un couteau humide et servir avec sauce soja et wasabi.",
    ],
  },
  {
    id: "12",
    name: "Burger Gourmet",
    image:
      "https://images.unsplash.com/photo-1627378378955-a3f4e406c5de?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXJnZXIlMjBnb3VybWV0fGVufDF8fHx8MTc2MjI1NDIyMHww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "30 min",
    servings: 4,
    ingredients: [
      { name: "bœuf haché", quantity: "600g" },
      { name: "pain burger", quantity: "4" },
      { name: "cheddar", quantity: "4 tranches" },
      { name: "bacon", quantity: "8 tranches" },
      { name: "tomates", quantity: "2" },
      { name: "salade", quantity: "4 feuilles" },
      { name: "oignon", quantity: "1" },
      { name: "sauce burger", quantity: "100ml" },
      { name: "sel", quantity: "selon goût" },
      { name: "poivre", quantity: "selon goût" },
    ],
    instructions: [
      "Former 4 steaks hachés de 150g chacun, saler et poivrer.",
      "Faire griller le bacon jusqu'à ce qu'il soit croustillant.",
      "Cuire les steaks dans une poêle chaude 4 minutes de chaque côté.",
      "Ajouter le cheddar sur les steaks et couvrir pour faire fondre.",
      "Faire griller légèrement les pains burger.",
      "Tartiner les pains de sauce burger.",
      "Monter les burgers : salade, steak, bacon, tomate, oignon.",
      "Servir immédiatement avec des frites.",
    ],
  },
  {
    id: "13",
    name: "Tacos Mexicains",
    image:
      "https://images.unsplash.com/photo-1707603571504-86c1ea50903e?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHx0YWNvcyUyMG1leGljYW4lMjBmb29kfGVufDF8fHx8MTc2MjI1MjE4N3ww&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Facile",
    time: "25 min",
    servings: 4,
    ingredients: [
      { name: "tortillas", quantity: "8" },
      { name: "bœuf haché", quantity: "500g" },
      { name: "haricots rouges", quantity: "200g" },
      { name: "tomates", quantity: "3" },
      { name: "avocat", quantity: "2" },
      { name: "oignon", quantity: "1" },
      { name: "coriandre", quantity: "1 bouquet" },
      { name: "citron vert", quantity: "2" },
      { name: "épices mexicaines", quantity: "2 c.à.s" },
      { name: "crème fraîche", quantity: "100ml" },
    ],
    instructions: [
      "Faire revenir l'oignon haché puis ajouter le bœuf haché.",
      "Ajouter les épices mexicaines et les haricots rouges égouttés.",
      "Laisser mijoter 10 minutes.",
      "Couper les tomates et l'avocat en dés.",
      "Réchauffer les tortillas quelques secondes.",
      "Garnir les tortillas avec la viande, les légumes et la coriandre.",
      "Ajouter un filet de crème fraîche et du jus de citron vert.",
      "Servir immédiatement.",
    ],
  },
  {
    id: "14",
    name: "Curry Indien Épicé",
    image:
      "https://images.unsplash.com/photo-1567337710282-00832b415979?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxjdXJyeSUyMGluZGlhbiUyMGZvb2R8ZW58MXx8fHwxNzYyMjYzMTQyfDA&ixlib=rb-4.1.0&q=80&w=1080",
    difficulty: "Moyen",
    time: "45 min",
    servings: 4,
    ingredients: [
      { name: "poulet", quantity: "600g" },
      { name: "lait de coco", quantity: "400ml" },
      { name: "tomates", quantity: "3" },
      { name: "oignon", quantity: "2" },
      { name: "ail", quantity: "4 gousses" },
      { name: "gingembre", quantity: "20g" },
      { name: "curry", quantity: "3 c.à.s" },
      { name: "curcuma", quantity: "1 c.à.c" },
      { name: "coriandre", quantity: "1 bouquet" },
      { name: "riz basmati", quantity: "300g" },
    ],
    instructions: [
      "Couper le poulet en cubes et les faire dorer dans une cocotte.",
      "Ajouter l'oignon, l'ail et le gingembre hachés.",
      "Saupoudrer de curry et de curcuma, mélanger.",
      "Ajouter les tomates concassées et le lait de coco.",
      "Laisser mijoter 30 minutes à feu doux.",
      "Pendant ce temps, cuire le riz basmati.",
      "Ajuster l'assaisonnement et ajouter la coriandre fraîche.",
      "Servir le curry sur le riz.",
    ],
  },
];

export function getRecipeIngredientNames(recipe: Recipe): string[] {
  return recipe.ingredients.map((ing) => ing.name.toLowerCase());
}

export function calculateMatchPercentage(recipe: Recipe, userIngredients: string[]): number {
  const recipeIngredients = getRecipeIngredientNames(recipe);
  const matchingCount = recipeIngredients.filter((ing) =>
    userIngredients.some((userIng) => ing.includes(userIng) || userIng.includes(ing)),
  ).length;
  return Math.round((matchingCount / recipeIngredients.length) * 100);
}
